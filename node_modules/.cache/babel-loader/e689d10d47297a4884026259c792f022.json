{"ast":null,"code":"import _toConsumableArray from\"C:\\\\Users\\\\Ahmad Saleh\\\\todois\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"C:\\\\Users\\\\Ahmad Saleh\\\\todois\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{firebase}from'../firebase';import{generatePushId}from'../helpers';import{useProjectsValue}from'../context';export var AddProject=function AddProject(_ref){var _ref$shouldShow=_ref.shouldShow,shouldShow=_ref$shouldShow===void 0?false:_ref$shouldShow;var _useState=useState(shouldShow),_useState2=_slicedToArray(_useState,2),show=_useState2[0],setShow=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),projectName=_useState4[0],setProjectName=_useState4[1];var projectId=generatePushId();var _useProjectsValue=useProjectsValue(),projects=_useProjectsValue.projects,setProjects=_useProjectsValue.setProjects;var addProject=function addProject(){return projectName&&firebase.firestore().collection('projects').add({projectId:projectId,name:projectName,userId:'ahmadnsaleh'}).then(function(){setProjects(_toConsumableArray(projects));setProjectName('');setShow(false);});};return/*#__PURE__*/React.createElement(\"div\",{className:\"add-project\",\"data-testid\":\"add-project\"},show&&/*#__PURE__*/React.createElement(\"div\",{className:\"add-project__input\",\"data-testid\":\"add-project-inner\"},/*#__PURE__*/React.createElement(\"input\",{value:projectName,onChange:function onChange(e){return setProjectName(e.target.value);},className:\"add-project__name\",\"data-testid\":\"project-name\",type:\"text\",placeholder:\"Name your project\"}),/*#__PURE__*/React.createElement(\"button\",{className:\"add-project__submit\",type:\"button\",onClick:function onClick(){return addProject();},\"data-testid\":\"add-project-submit\"},\"Add Project\"),/*#__PURE__*/React.createElement(\"span\",{\"aria-label\":\"Cancel adding project\",\"data-testid\":\"hide-project-overlay\",className:\"add-project__cancel\",onClick:function onClick(){return setShow(false);},onKeyDown:function onKeyDown(e){if(e.key==='Enter')setShow(false);},role:\"button\",tabIndex:0},\"Cancel\")),/*#__PURE__*/React.createElement(\"span\",{className:\"add-project__plus\"},\"+\"),/*#__PURE__*/React.createElement(\"span\",{\"aria-label\":\"Add Project\",\"data-testid\":\"add-project-action\",className:\"add-project__text\",onClick:function onClick(){return setShow(!show);},onKeyDown:function onKeyDown(e){if(e.key==='Enter')setShow(!show);},role:\"button\",tabIndex:0},\"Add Project\"));};","map":{"version":3,"sources":["C:/Users/Ahmad Saleh/todois/src/component/AddProject.js"],"names":["React","useState","firebase","generatePushId","useProjectsValue","AddProject","shouldShow","show","setShow","projectName","setProjectName","projectId","projects","setProjects","addProject","firestore","collection","add","name","userId","then","e","target","value","key"],"mappings":"4TAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CAEA,OAASC,QAAT,KAAyB,aAAzB,CACA,OAASC,cAAT,KAA+B,YAA/B,CACA,OAASC,gBAAT,KAAiC,YAAjC,CAEA,MAAO,IAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,MAA4B,0BAAzBC,UAAyB,CAAzBA,UAAyB,0BAAZ,KAAY,+BAC5BL,QAAQ,CAACK,UAAD,CADoB,wCAC7CC,IAD6C,eACvCC,OADuC,8BAEdP,QAAQ,CAAC,EAAD,CAFM,yCAE7CQ,WAF6C,eAEhCC,cAFgC,eAIpD,GAAMC,CAAAA,SAAS,CAAGR,cAAc,EAAhC,CAJoD,sBAKlBC,gBAAgB,EALE,CAK5CQ,QAL4C,mBAK5CA,QAL4C,CAKlCC,WALkC,mBAKlCA,WALkC,CAOpD,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,SACjBL,CAAAA,WAAW,EACXP,QAAQ,CACLa,SADH,GAEGC,UAFH,CAEc,UAFd,EAGGC,GAHH,CAGO,CACHN,SAAS,CAATA,SADG,CAEHO,IAAI,CAAET,WAFH,CAGHU,MAAM,CAAE,aAHL,CAHP,EAQGC,IARH,CAQQ,UAAM,CACVP,WAAW,oBAAKD,QAAL,EAAX,CACAF,cAAc,CAAC,EAAD,CAAd,CACAF,OAAO,CAAC,KAAD,CAAP,CACD,CAZH,CAFiB,EAAnB,CAgBA,mBACE,2BAAK,SAAS,CAAC,aAAf,CAA6B,cAAY,aAAzC,EACGD,IAAI,eACH,2BAAK,SAAS,CAAC,oBAAf,CAAoC,cAAY,mBAAhD,eACE,6BACE,KAAK,CAAEE,WADT,CAEE,QAAQ,CAAE,kBAACY,CAAD,QAAOX,CAAAA,cAAc,CAACW,CAAC,CAACC,MAAF,CAASC,KAAV,CAArB,EAFZ,CAGE,SAAS,CAAC,mBAHZ,CAIE,cAAY,cAJd,CAKE,IAAI,CAAC,MALP,CAME,WAAW,CAAC,mBANd,EADF,cASE,8BACE,SAAS,CAAC,qBADZ,CAEE,IAAI,CAAC,QAFP,CAGE,OAAO,CAAE,yBAAMT,CAAAA,UAAU,EAAhB,EAHX,CAIE,cAAY,oBAJd,gBATF,cAiBE,4BACE,aAAW,uBADb,CAEE,cAAY,sBAFd,CAGE,SAAS,CAAC,qBAHZ,CAIE,OAAO,CAAE,yBAAMN,CAAAA,OAAO,CAAC,KAAD,CAAb,EAJX,CAKE,SAAS,CAAE,mBAACa,CAAD,CAAO,CAChB,GAAIA,CAAC,CAACG,GAAF,GAAU,OAAd,CAAuBhB,OAAO,CAAC,KAAD,CAAP,CACxB,CAPH,CAQE,IAAI,CAAC,QARP,CASE,QAAQ,CAAE,CATZ,WAjBF,CAFJ,cAkCE,4BAAM,SAAS,CAAC,mBAAhB,MAlCF,cAmCE,4BACE,aAAW,aADb,CAEE,cAAY,oBAFd,CAGE,SAAS,CAAC,mBAHZ,CAIE,OAAO,CAAE,yBAAMA,CAAAA,OAAO,CAAC,CAACD,IAAF,CAAb,EAJX,CAKE,SAAS,CAAE,mBAACc,CAAD,CAAO,CAChB,GAAIA,CAAC,CAACG,GAAF,GAAU,OAAd,CAAuBhB,OAAO,CAAC,CAACD,IAAF,CAAP,CACxB,CAPH,CAQE,IAAI,CAAC,QARP,CASE,QAAQ,CAAE,CATZ,gBAnCF,CADF,CAmDD,CA1EM","sourcesContent":["import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { firebase } from '../firebase';\r\nimport { generatePushId } from '../helpers';\r\nimport { useProjectsValue } from '../context';\r\n\r\nexport const AddProject = ({ shouldShow = false }) => {\r\n  const [show, setShow] = useState(shouldShow);\r\n  const [projectName, setProjectName] = useState('');\r\n\r\n  const projectId = generatePushId();\r\n  const { projects, setProjects } = useProjectsValue();\r\n\r\n  const addProject = () =>\r\n    projectName &&\r\n    firebase\r\n      .firestore()\r\n      .collection('projects')\r\n      .add({\r\n        projectId,\r\n        name: projectName,\r\n        userId: 'ahmadnsaleh',\r\n      })\r\n      .then(() => {\r\n        setProjects([...projects]);\r\n        setProjectName('');\r\n        setShow(false);\r\n      });\r\n\r\n  return (\r\n    <div className=\"add-project\" data-testid=\"add-project\">\r\n      {show && (\r\n        <div className=\"add-project__input\" data-testid=\"add-project-inner\">\r\n          <input\r\n            value={projectName}\r\n            onChange={(e) => setProjectName(e.target.value)}\r\n            className=\"add-project__name\"\r\n            data-testid=\"project-name\"\r\n            type=\"text\"\r\n            placeholder=\"Name your project\"\r\n          />\r\n          <button\r\n            className=\"add-project__submit\"\r\n            type=\"button\"\r\n            onClick={() => addProject()}\r\n            data-testid=\"add-project-submit\"\r\n          >\r\n            Add Project\r\n          </button>\r\n          <span\r\n            aria-label=\"Cancel adding project\"\r\n            data-testid=\"hide-project-overlay\"\r\n            className=\"add-project__cancel\"\r\n            onClick={() => setShow(false)}\r\n            onKeyDown={(e) => {\r\n              if (e.key === 'Enter') setShow(false);\r\n            }}\r\n            role=\"button\"\r\n            tabIndex={0}\r\n          >\r\n            Cancel\r\n          </span>\r\n        </div>\r\n      )}\r\n      <span className=\"add-project__plus\">+</span>\r\n      <span\r\n        aria-label=\"Add Project\"\r\n        data-testid=\"add-project-action\"\r\n        className=\"add-project__text\"\r\n        onClick={() => setShow(!show)}\r\n        onKeyDown={(e) => {\r\n          if (e.key === 'Enter') setShow(!show);\r\n        }}\r\n        role=\"button\"\r\n        tabIndex={0}\r\n      >\r\n        Add Project\r\n      </span>\r\n    </div>\r\n  );\r\n};\r\n\r\nAddProject.propTypes = {\r\n  shouldShow: PropTypes.bool,\r\n};"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _toConsumableArray from\"C:\\\\Users\\\\Ahmad Saleh\\\\todo\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"C:\\\\Users\\\\Ahmad Saleh\\\\todo\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{FaTrashAlt}from'react-icons/fa';import{useProjectsValue,useSelectedProjectValue}from'../context';import{firebase}from'../firebase';export var IndividualProject=function IndividualProject(_ref){var project=_ref.project;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showConfirm=_useState2[0],setShowConfirm=_useState2[1];var _useProjectsValue=useProjectsValue(),projects=_useProjectsValue.projects,setProjects=_useProjectsValue.setProjects;var _useSelectedProjectVa=useSelectedProjectValue(),setSelectedProject=_useSelectedProjectVa.setSelectedProject;var deleteProject=function deleteProject(docId){firebase.firestore().collection('projects').doc(docId).delete().then(function(){setProjects(_toConsumableArray(projects));setSelectedProject('INBOX');});};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"span\",{className:\"sidebar__dot\"},\"\\u2022\"),/*#__PURE__*/React.createElement(\"span\",{className:\"sidebar__project-name\"},project.name),/*#__PURE__*/React.createElement(\"span\",{className:\"sidebar__project-delete\",\"data-testid\":\"delete-project\",onClick:function onClick(){return setShowConfirm(!showConfirm);},onKeyDown:function onKeyDown(e){if(e.key==='Enter')setShowConfirm(!showConfirm);},tabIndex:0,role:\"button\",\"aria-label\":\"Confirm deletion of project\"},/*#__PURE__*/React.createElement(FaTrashAlt,null),showConfirm&&/*#__PURE__*/React.createElement(\"div\",{className:\"project-delete-modal\"},/*#__PURE__*/React.createElement(\"div\",{className:\"project-delete-modal__inner\"},/*#__PURE__*/React.createElement(\"p\",null,\"Are you sure you want to delete this project?\"),/*#__PURE__*/React.createElement(\"button\",{type:\"button\",onClick:function onClick(){return deleteProject(project.docId);}},\"Delete\"),/*#__PURE__*/React.createElement(\"span\",{onClick:function onClick(){return setShowConfirm(!showConfirm);},onKeyDown:function onKeyDown(e){if(e.key==='Enter')setShowConfirm(!showConfirm);},tabIndex:0,role:\"button\",\"aria-label\":\"Cancel adding project, do not delete\"},\"Cancel\")))));};","map":{"version":3,"sources":["C:/Users/Ahmad Saleh/todo/src/component/IndividualProject.js"],"names":["React","useState","FaTrashAlt","useProjectsValue","useSelectedProjectValue","firebase","IndividualProject","project","showConfirm","setShowConfirm","projects","setProjects","setSelectedProject","deleteProject","docId","firestore","collection","doc","delete","then","name","e","key"],"mappings":"wTAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,UAAT,KAA2B,gBAA3B,CAEA,OAASC,gBAAT,CAA2BC,uBAA3B,KAA0D,YAA1D,CACA,OAASC,QAAT,KAAyB,aAAzB,CAEA,MAAO,IAAMC,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,MAAiB,IAAdC,CAAAA,OAAc,MAAdA,OAAc,eACVN,QAAQ,CAAC,KAAD,CADE,wCACzCO,WADyC,eAC5BC,cAD4B,qCAEdN,gBAAgB,EAFF,CAExCO,QAFwC,mBAExCA,QAFwC,CAE9BC,WAF8B,mBAE9BA,WAF8B,2BAGjBP,uBAAuB,EAHN,CAGxCQ,kBAHwC,uBAGxCA,kBAHwC,CAKhD,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACC,KAAD,CAAW,CAC/BT,QAAQ,CACLU,SADH,GAEGC,UAFH,CAEc,UAFd,EAGGC,GAHH,CAGOH,KAHP,EAIGI,MAJH,GAKGC,IALH,CAKQ,UAAM,CACVR,WAAW,oBAAKD,QAAL,EAAX,CACAE,kBAAkB,CAAC,OAAD,CAAlB,CACD,CARH,EASD,CAVD,CAYA,mBACE,qDACE,4BAAM,SAAS,CAAC,cAAhB,WADF,cAEE,4BAAM,SAAS,CAAC,uBAAhB,EAAyCL,OAAO,CAACa,IAAjD,CAFF,cAGE,4BACE,SAAS,CAAC,yBADZ,CAEE,cAAY,gBAFd,CAGE,OAAO,CAAE,yBAAMX,CAAAA,cAAc,CAAC,CAACD,WAAF,CAApB,EAHX,CAIE,SAAS,CAAE,mBAACa,CAAD,CAAO,CAChB,GAAIA,CAAC,CAACC,GAAF,GAAU,OAAd,CAAuBb,cAAc,CAAC,CAACD,WAAF,CAAd,CACxB,CANH,CAOE,QAAQ,CAAE,CAPZ,CAQE,IAAI,CAAC,QARP,CASE,aAAW,6BATb,eAWE,oBAAC,UAAD,MAXF,CAYGA,WAAW,eACV,2BAAK,SAAS,CAAC,sBAAf,eACE,2BAAK,SAAS,CAAC,6BAAf,eACE,6EADF,cAEE,8BACE,IAAI,CAAC,QADP,CAEE,OAAO,CAAE,yBAAMK,CAAAA,aAAa,CAACN,OAAO,CAACO,KAAT,CAAnB,EAFX,WAFF,cAQE,4BACE,OAAO,CAAE,yBAAML,CAAAA,cAAc,CAAC,CAACD,WAAF,CAApB,EADX,CAEE,SAAS,CAAE,mBAACa,CAAD,CAAO,CAChB,GAAIA,CAAC,CAACC,GAAF,GAAU,OAAd,CAAuBb,cAAc,CAAC,CAACD,WAAF,CAAd,CACxB,CAJH,CAKE,QAAQ,CAAE,CALZ,CAME,IAAI,CAAC,QANP,CAOE,aAAW,sCAPb,WARF,CADF,CAbJ,CAHF,CADF,CA2CD,CA5DM","sourcesContent":["import React, { useState } from 'react';\r\nimport { FaTrashAlt } from 'react-icons/fa';\r\nimport PropTypes from 'prop-types';\r\nimport { useProjectsValue, useSelectedProjectValue } from '../context';\r\nimport { firebase } from '../firebase';\r\n\r\nexport const IndividualProject = ({ project }) => {\r\n  const [showConfirm, setShowConfirm] = useState(false);\r\n  const { projects, setProjects } = useProjectsValue();\r\n  const { setSelectedProject } = useSelectedProjectValue();\r\n\r\n  const deleteProject = (docId) => {\r\n    firebase\r\n      .firestore()\r\n      .collection('projects')\r\n      .doc(docId)\r\n      .delete()\r\n      .then(() => {\r\n        setProjects([...projects]);\r\n        setSelectedProject('INBOX');\r\n      });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <span className=\"sidebar__dot\">â€¢</span>\r\n      <span className=\"sidebar__project-name\">{project.name}</span>\r\n      <span\r\n        className=\"sidebar__project-delete\"\r\n        data-testid=\"delete-project\"\r\n        onClick={() => setShowConfirm(!showConfirm)}\r\n        onKeyDown={(e) => {\r\n          if (e.key === 'Enter') setShowConfirm(!showConfirm);\r\n        }}\r\n        tabIndex={0}\r\n        role=\"button\"\r\n        aria-label=\"Confirm deletion of project\"\r\n      >\r\n        <FaTrashAlt />\r\n        {showConfirm && (\r\n          <div className=\"project-delete-modal\">\r\n            <div className=\"project-delete-modal__inner\">\r\n              <p>Are you sure you want to delete this project?</p>\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => deleteProject(project.docId)}\r\n              >\r\n                Delete\r\n              </button>\r\n              <span\r\n                onClick={() => setShowConfirm(!showConfirm)}\r\n                onKeyDown={(e) => {\r\n                  if (e.key === 'Enter') setShowConfirm(!showConfirm);\r\n                }}\r\n                tabIndex={0}\r\n                role=\"button\"\r\n                aria-label=\"Cancel adding project, do not delete\"\r\n              >\r\n                Cancel\r\n              </span>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </span>\r\n    </>\r\n  );\r\n};\r\n\r\nIndividualProject.propTypes = {\r\n  project: PropTypes.object.isRequired,\r\n};"]},"metadata":{},"sourceType":"module"}